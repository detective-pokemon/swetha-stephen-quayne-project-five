(this["webpackJsonpdetective-pokemon"]=this["webpackJsonpdetective-pokemon"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),o=n(19),c=n.n(o),i=(n(26),n(2)),l=n(3),u=n(5),m=n(4),p=(n(27),function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState({userName:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.userInput(e.state.userName)},e.state={userName:""},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("form",{name:"userName",className:"userNameForm",children:[Object(a.jsx)("label",{htmlFor:"nameInput",children:"Your name: "}),Object(a.jsx)("input",{onChange:this.handleChange,type:"text",name:"nameInput",id:"nameInput"}),Object(a.jsx)("button",{className:"nameButton",onClick:this.handleSubmit,children:" Submit"})]})}}]),n}(r.Component)),h=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getUsername=function(t){e.props.getUser(t)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("header",{children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("h1",{children:"Detective Pok\xe9mon"}),Object(a.jsxs)("article",{className:"introText",children:[Object(a.jsx)("p",{children:"It is dark times out there. In this new world, Pok\xe9mon come to rescue and support the UK law enforcement."}),Object(a.jsx)("p",{children:"Pick a Pokemon that is best suited to help you solve a crime. Each pokemon has different abilities that can help them solve different categories of crime."})]}),Object(a.jsx)(p,{userInput:this.getUsername}),this.props.username.length>=2?Object(a.jsxs)("p",{children:["Thank you ",Object(a.jsxs)("span",{children:[this.props.username," for joining this fight with us!"]})]}):null]})})})}}]),n}(r.Component),d=n(8),f=n.n(d),b=[{name:"London",poly:"51.47589,-0.15156:51.47589,-0.10156:51.52589,-0.10156:51.52589,-0.15156"},{name:"Birmingham",poly:"52.43391,-1.942301:52.43391,-1.842301:52.53391,-1.842301:52.53391,-1.942301"},{name:"Liverpool",poly:"53.35585,-3.035683:53.35585,-2.935683:53.45585,-2.935683:53.45585,-3.035683"},{name:"Nottingham",poly:"52.904,-1.290101:52.904,-1.190101:53.004,-1.190101:53.004,-1.290101"},{name:"Sheffield",poly:"53.34563,-1.689539:53.34563,-1.589539:53.44563,-1.589539:53.44563,-1.689539"}],j={"anti-social-behaviour":{readableCrimeName:"antisocial behaviour",successfulType:14,typeName:"psychic",reason:"Psychic pokemon are able to read and calm minds!"},"bicycle-theft":{readableCrimeName:"bicycle theft",successfulType:3,typeName:"flying",reason:"Flying pokemon are able to fly and track the thief!"},burglary:{readableCrimeName:"burglary",successfulType:2,typeName:"fighting",reason:"Fighting pokemon are able to beat the burglar in close quarter combat!"},"criminal-damage-arson":{readableCrimeName:"criminal damage or arson",successfulType:11,typeName:"water",reason:"Water pokemon can put out the fire!"},drugs:{readableCrimeName:"drugs",successfulType:4,typeName:"poison",reason:"Poison pokemon can detect drugs and create antidotes!"},"possession-of-weapons":{readableCrimeName:"possession of weapons",successfulType:8,typeName:"ghost",reason:"Ghost pokemon can't be hurt by corporeal weapons!"},"public-order":{readableCrimeName:"public order",successfulType:12,typeName:"grass",reason:"Grass pokemon can put people to sleep!"},robbery:{readableCrimeName:"robbery",successfulType:13,typeName:"electric",reason:"Electric pokemon can stun the assailant!"},shoplifting:{readableCrimeName:"shoplifting",successfulType:15,typeName:"ice",reason:"Ice pokemon can freeze the shoplifter in place!"},"theft-from-the-person":{readableCrimeName:"theft from a person",successfulType:1,typeName:"normal",reason:"Normal pokemon can stop theft from the person!"},"vehicle-crime":{readableCrimeName:"vehicle crime",successfulType:16,typeName:"dragon",reason:"Dragon pokemon can fly and stop a car!"},"violent-crime":{readableCrimeName:"violent crime",successfulType:18,typeName:"fairy",reason:"Fairy pokemon can turn any cruel person into a nice one!"}},y=n(20),g=n(7),O=n.n(g),k=n(9),v=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).setArrayOfSuccessPokemonObj=function(){var t=Object(k.a)(O.a.mark((function t(n){var a,r,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],r=0;case 2:if(!(r<10)){t.next=10;break}return t.next=5,n.data.pokemon[e.getRandomIndex(20)].pokemon;case 5:s=t.sent,a.push(s);case 7:r++,t.next=2;break;case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.translateCoordsToCityName=function(){var t,n=Object(y.a)(b);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.poly.toString()===e.props.location.toString()&&e.setState({cityName:a.name})}}catch(r){n.e(r)}finally{n.f()}},e.setArrayOfWrongPokemonObj=Object(k.a)(O.a.mark((function t(){var n,a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=0;case 2:if(!(a<10)){t.next=9;break}return t.next=5,e.getPokemonsAPICall(e.getRandomIndex(17));case 5:n[a]=t.sent;case 6:a++,t.next=2;break;case 9:return r=e.parseUnsuccessfulPokemonPromises(n),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)}))),e.getPokemons=function(){var t=Object(k.a)(O.a.mark((function t(n){var a,r,s,o,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return[],t.next=3,e.getPokemonsAPICall(n);case 3:return a=t.sent,t.next=6,e.setArrayOfSuccessPokemonObj(a);case 6:return r=t.sent,t.next=9,e.getFinalPokemonDisplayList(r,"correct");case 9:return s=t.sent,t.next=12,e.setArrayOfWrongPokemonObj();case 12:return o=t.sent,t.next=15,e.getFinalPokemonDisplayList(o,"wrong");case 15:c=t.sent,e.translateCoordsToCityName(),e.combineArrays(s,c);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.combineArrays=function(t,n){console.log(t,n);var a=[];a.push(t[0]);for(var r=0;r<4;r++)a.push(n[r]);console.log(a),e.shuffle(a),console.log(a),e.setState({displayPokemonList:a})},e.shuffle=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e},e.getFinalPokemonDisplayList=function(){var e=Object(k.a)(O.a.mark((function e(t,n){var a,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],r=[],s=0;s<t.length;s++)a.push(f.a.get(t[s].url));return e.next=5,Promise.all([].concat(a));case 5:return e.sent.forEach((function(e,t){var a={},s=e.data.sprites.other["official-artwork"].front_default;if(null!==s){var o=e.data.abilities,c=[];o.forEach((function(e){c.push(e.ability.name)})),a={name:e.data.name,abilities:c,id:e.data.id,match:n,image:s},r.push(a)}})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.getPokemonsAPICall=function(e){return f()({method:"GET",url:"https://pokeapi.co/api/v2/type/".concat(e),dataResponse:"json"})},e.getRandomIndex=function(e){var t=Math.floor(Math.random()*e);return 0===t?t+1:t},e.parseUnsuccessfulPokemonPromises=function(t){for(var n=[],a=0;a<t.length;a++){var r=t[a].data.pokemon[e.getRandomIndex(t[a].data.pokemon.length)].pokemon;r.match="fail",n.push(r)}return n},e.state={displayPokemonList:[],pokemonList:[],successPokemonArray:[],unSuccessPokemonArray:[],cityName:"city"},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getPokemons(this.props.successPokemonType)}},{key:"render",value:function(){return console.log(this.state.displayPokemonList),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"quizMessage",children:Object(a.jsxs)("p",{children:[" ","You are in ",Object(a.jsx)("span",{className:"chosenCity",children:this.state.cityName}),", trying to solve a"," ",Object(a.jsx)("span",{className:"chosenCrime",children:this.props.crime})," type of crime."]})},"quizMessage"),Object(a.jsx)("div",{className:"chooseYourFighter",children:Object(a.jsx)("p",{children:"Choose a Pokemon to help you solve the case:"})},"chooseYourFighter"),Object(a.jsx)("div",{className:"options",children:this.state.displayPokemonList?this.state.displayPokemonList.map((function(e,t){return Object(a.jsxs)("article",{className:"pokeDisplay",children:[Object(a.jsx)("p",{children:e.name}),Object(a.jsx)("img",{src:e.image,alt:e.name},e.name),Object(a.jsx)("p",{children:e.abilities.map((function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"ability",children:e},"".concat(e).concat(t)),"\xa0"]})}))})]},"".concat(t).concat(e.name))})):null},"options")]})}}]),n}(r.Component),x=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onLocationChange=function(t){e.props.getLocation(t.target.value)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("select",{onChange:this.onLocationChange,children:b.map((function(e){return Object(a.jsx)("option",{value:e.poly,children:e.name},e.poly)}))})}}]),n}(r.Component),C=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleCrime=function(t){e.props.getCrimeChange(t.target.value)},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("select",{onChange:this.handleCrime,children:this.props.crimeCategoriesArray.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t)}))})}}]),n}(r.Component),N=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).getCrime=function(e,t){return f()({url:"https://data.police.uk/api/crimes-street/".concat(t),responseType:"json",method:"GET",params:{poly:e}})},e.getPokemonType=function(e){var t;for(var n in j)n===e&&(t=j[n].successfulType);return console.log(t),t},e.getLocationChange=function(t){e.setState({selectedLocation:t})},e.handleCrime=function(t){e.setState({selectedCrime:t})},e.handleSubmit=function(t){t.preventDefault();var n=e.getPokemonType(e.state.selectedCrime);e.setState({successPokemonType:n})},e.state={crimeCategories:[],selectedCrime:"",selectedLocation:"",successPokemonType:""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object.keys(j);this.setState({crimeCategories:e})}},{key:"render",value:function(){return console.log(this.state.successPokemonType),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{children:[Object(a.jsx)(x,{getLocation:this.getLocationChange}),Object(a.jsx)(C,{getCrimeChange:this.handleCrime,crimeCategoriesArray:this.state.crimeCategories}),Object(a.jsx)("button",{onClick:this.handleSubmit,children:"Submit"})]}),Object(a.jsx)("div",{children:this.state.successPokemonType?Object(a.jsx)(v,{crime:this.state.selectedCrime,successPokemonType:this.state.successPokemonType,location:this.state.selectedLocation},this.state.successPokemonType):null})]})}}]),n}(r.Component),P=function(){return Object(a.jsxs)("footer",{children:[Object(a.jsxs)("p",{children:["Created by: ",Object(a.jsx)("a",{href:"https://twitter.com/CoderQuayne",children:"Quayne Brown"}),", ",Object(a.jsx)("a",{href:"https://twitter.com/CodeAndChai",children:"Swetha Chandrasekhar"})," & ",Object(a.jsx)("a",{href:"https://twitter.com/geocities_exe",children:"Stephen Thomas"})]}),Object(a.jsxs)("p",{children:["Created at: ",Object(a.jsx)("a",{href:"https://junocollege.com/",children:"Juno College"})]})]})},T=n.p+"static/media/pokeball-transp.6dabce4f.png",w=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("img",{src:T,alt:"",className:"ball"})})},S=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).grabUsername=function(t){e.setState({user:t})},e.state={user:""},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{}),Object(a.jsx)(h,{getUser:this.grabUsername,username:this.state.user}),Object(a.jsx)(N,{}),Object(a.jsx)(P,{})]})}}]),n}(r.Component),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))};c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),L()}},[[46,1,2]]]);
//# sourceMappingURL=main.045ea138.chunk.js.map